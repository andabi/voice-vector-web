<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/static/boot/css/bootstrap.min.css"/>
    <link href="/static/images/favicon.ico" rel="icon" type="image/x-icon">

    <title>Voice Vector Webpage</title>

    {% block head_og %}
        <meta property="og:title" content="Voice Vector Webpage"/>
        <meta property="og:description" content="Voice Vector Webpage"/>
    {% endblock %}
    <meta property="og:type" content="website"/>

    <link rel="stylesheet" type="text/css" href="/static/css/base.css"/>
    <link rel="stylesheet" type="text/css" href="/static/css/index.css"/>

    <script src="/static/js/audiodisplay.js"></script>
    <script src="/static/js/recorderjs/recorder.js"></script>
    <script src="/static/js/main.js"></script>

    <style>
    </style>
</head>
<body>

<nav class="navbar navbar-default" id="nav_main" role="navigation">
    <div class="container">
        <div id="navbar-extend">
            <ul class="nav navbar-nav" id="navbar_main">
                <li class="dropdown">
                    <a href="/">
                        <span style="font-size:16pt">Which of the Hollywood stars is most similar to my voice?</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>


<div class="container-fluid" id="conf_body">
    <div class="container" id="ui_con">
        <div class="row" id="ui_row">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"
                 id="ui_box">
                <div class="space_20"></div>
                <div class="row" id="div_record">
                    <div class="col-xs-12">
                        <form action="" method="POST" id="record_form" name="record_form" enctype="multipart/form-data">
                            <div class="space_30"></div>
                            <div class="row">
                                <div class="col-xs-12 txt_title20 txt_bold">Say anything aloud</div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <canvas id="mic_wave"/>
                                </div>
                            </div>
                            <div class="space_10"></div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <a class="btn btn-default" href="javascript:void(0);"
                                        onclick="toggleRecording(this);" role="button" id="btn_record">Start</a>
                                </div>
                            </div>
                            <div class="space_30"></div>
                        </form>
                    </div>
                </div>

                <div class="row div_hidden" id="div_process">
                    <div class="col-xs-12">
                        <div class="space_20"></div>
                        <div class="row">
                            In Progress...<BR/>
                            This will be finish in few seconds.
                        </div>
                        <div class="space_20"></div>
                    </div>
                </div>

                <div class="row div_hidden" id="div_result">
                    <div class="col-xs-12">
                        <div class="row" id="row_img">
                            <div class="col-xs-12">
                                <img src="/static/img/default_face.png" id="result_img"/>
                            </div>
                        </div>
                        <div class="space_10"></div>
                        <div class="row" id="row_name">
                            <div class="col-xs-12">
                                Your voice is most similar with <span id="result_name" class="txt_bold"></span>!
                            </div>
                        </div>
                        <div class="row" id="row_age">
                            <div class="col-xs-12">
                                Born in <span id="result_age"></span> / <span id="result_sex"></span> / <span id="result_nationality"></span>
                            </div>
                        </div>
                        <div class="row" id="row_job">
                            <div class="col-xs-12">
                                Job : <span id="result_job"></span> / Height : <span id="result_height"></span>
                            </div>
                        </div>
                        <div class="space_20"></div>
                        <div class="row">
                            <div class="col-xs-12 txt_center">
                                <button class="btn btn-default" id="btn_videos" type="button" data-toggle="collapse" data-target="#collapse_youtube" aria-expanded="false" aria-controls="collapse_youtube">
                                    Show YouTube videos about most similar with you!
                                </button>
                            </div>
                        </div>
                        <div class="space_10"></div>
                        <div class="row">
                            <div class="col-xs-12 collapse" id="collapse_youtube">
                                <div class="well">
                                    <div class="row" id="row_youtube">
                                        <div class="col-xs-12" id="result_yt_1">
                                        </div>
                                        <div class="col-xs-12" id="result_yt_2">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="space_20"></div>
                        <div class="row" id="row_restart">
                            <div class="col-xs-12">
                                <a class="btn btn-warning" id="btn_again" href="javascript:void(0);"
                                   onclick="javascript:restart_process();" role="button">Try Again</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="space_20"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12" style="margin-top:10px">
                <span style="color:grey">Note: this is only supported on Chrome and Firefox desktops.</span>
            </div>
            <div class="col-xs-12" style="">
                <span style="color:gray">Source Code: <a href="https://github.com/andabi/speaker-embedding" target="_blank">github.com/andabi/speaker-embedding</a></span>
            </div>
        </div>
    </div>
</div>


<div class="container-fluid bg_kakao_gray" id="footer">
    <div class="container">
        <div class="row">
            <!--<div class="col-md-4 col-xs-12">-->
            <div class="col-xs-12 col-md-8">
                Copyright Â© Kakao Brain Corp. All rights reserved.
            </div>
                <div class="col-md-4" id="footer_text">
                    Demo page built by 'Jujin Lee' and 'Dabi Ahn'<BR/>
                    <a class="txt_nodeco" href="javascript:open_sources();">Open Sources</a>
                </div>
            </div>
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="/static/boot/js/bootstrap.min.js"></script>

        <script>
            function restart_process() {
                var element = document.getElementById("div_result");
                element.classList.add("div_hidden");

                var element = document.getElementById("div_record");
                element.classList.remove("div_hidden");
            }

            function open_sources(){
                alert(
                    {% for one_open in open_source_list %}
                    "{{ one_open.name }} - {{one_open.license}} - {{one_open.url}} \r\n" +
                    {% endfor %} "are used!");
            }
        </script>


        {% block page_script %}{% endblock %}

    </div>
</div>
</body>
</html>